<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>RIS Einzelfallmeldung - Installation</title>
  <style>
    *{box-sizing:border-box;margin:0;padding:0}
    body{font-family:Segoe UI,system-ui,sans-serif;background:#f5f5f5;color:#333;line-height:1.6}
    .header{background:linear-gradient(135deg,#0d5c55,#0a8);color:#fff;padding:40px 20px;text-align:center}
    .header h1{font-size:28px;margin-bottom:8px}
    .header p{opacity:.9}
    .container{max-width:800px;margin:0 auto;padding:20px}
    .card{background:#fff;border-radius:12px;padding:28px;margin-bottom:24px;box-shadow:0 2px 8px rgba(0,0,0,.08)}
    .card h2{font-size:20px;margin-bottom:20px;color:#0d5c55;display:flex;align-items:center;gap:10px}
    .card h2 .icon{font-size:24px}
    .browser-tabs{display:flex;gap:0;margin-bottom:20px;border-bottom:2px solid #e5e5e5}
    .browser-tab{padding:12px 24px;cursor:pointer;border:none;background:none;font-size:15px;color:#666;border-bottom:2px solid transparent;margin-bottom:-2px;display:flex;align-items:center;gap:8px}
    .browser-tab:hover{color:#333}
    .browser-tab.active{color:#0d5c55;border-bottom-color:#0d5c55;font-weight:600}
    .browser-tab svg{width:20px;height:20px}
    .browser-content{display:none}
    .browser-content.active{display:block}
    .steps{counter-reset:step;list-style:none}
    .steps li{counter-increment:step;margin-bottom:20px;padding-left:50px;position:relative;min-height:36px}
    .steps li::before{content:counter(step);position:absolute;left:0;top:0;width:36px;height:36px;background:#0d5c55;color:#fff;border-radius:50%;text-align:center;line-height:36px;font-weight:600}
    .steps li strong{color:#0d5c55}
    .steps li code{background:#f0f0f0;padding:3px 10px;border-radius:4px;font-family:Consolas,monospace;font-size:14px;border:1px solid #ddd}
    .highlight{background:#fffde7;border-left:4px solid #ffc107;padding:12px 16px;margin:12px 0;border-radius:0 8px 8px 0}
    .bookmarklet-container{text-align:center;padding:30px;background:linear-gradient(135deg,#f8f9fa,#e9ecef);border-radius:8px;margin:20px 0}
    .bookmarklet{display:inline-block;background:linear-gradient(135deg,#0d5c55,#0a8);color:#fff;padding:18px 36px;border-radius:10px;text-decoration:none;font-weight:600;font-size:18px;cursor:grab;box-shadow:0 4px 12px rgba(13,92,85,.3);transition:transform .2s,box-shadow .2s}
    .bookmarklet:hover{transform:translateY(-2px);box-shadow:0 6px 16px rgba(13,92,85,.4)}
    .bookmarklet:active{cursor:grabbing;transform:translateY(0)}
    .drag-hint{margin-top:12px;color:#666;font-size:14px}
    .alternative{margin-top:24px;padding-top:24px;border-top:1px solid #e5e5e5}
    .alternative h3{font-size:16px;color:#666;margin-bottom:12px}
    .code-box{position:relative}
    .code-box textarea{width:100%;height:60px;background:#1a1a24;border:none;border-radius:8px;color:#fff;padding:12px;font-family:Consolas,monospace;font-size:11px;resize:none}
    .code-box button{position:absolute;right:8px;top:8px;background:#0d5c55;color:#fff;border:none;padding:8px 16px;border-radius:6px;cursor:pointer;font-size:13px}
    .code-box button:hover{background:#0a8}
    .help{background:#e3f2fd;border-radius:8px;padding:20px}
    .help h3{color:#1565c0;margin-bottom:12px;font-size:16px}
    .help ul{margin-left:20px}
    .help li{margin-bottom:8px}
    .footer{text-align:center;padding:30px;color:#999;font-size:13px}
    .size-badge{display:inline-block;background:#e8f5e9;color:#2e7d32;padding:4px 12px;border-radius:20px;font-size:12px;margin-left:10px}
    @media(max-width:600px){
      .browser-tab{padding:10px 16px;font-size:14px}
      .browser-tab svg{display:none}
      .steps li{padding-left:44px}
    }
  </style>
</head>
<body>
  <div class="header">
    <h1>RIS Einzelfallmeldung</h1>
    <p>Bookmarklet f√ºr ProWorX - Installation in 2 Minuten</p>
  </div>

  <div class="container">
    <div class="card">
      <h2><span class="icon">üì•</span> Installation <span class="size-badge">{{BOOKMARKLET_SIZE}}</span></h2>

      <div class="browser-tabs">
        <button class="browser-tab active" onclick="showBrowser('edge')">
          <svg viewBox="0 0 24 24"><path fill="currentColor" d="M21.86 17.86q.14 0 .25.12.1.13.1.25t-.11.33l-.32.46-.43.53-.44.5q-.21.25-.38.42l-.22.23q-.58.53-1.34 1.04-.76.51-1.6.91-.86.4-1.74.64t-1.67.24q-.9 0-1.69-.28-.79-.28-1.48-.78-.68-.5-1.22-1.17-.53-.66-.92-1.44-.38-.77-.58-1.6-.2-.83-.2-1.67 0-1 .32-1.96.33-.97.87-1.8.14.95.55 1.77.41.81 1.02 1.49.6.68 1.38 1.21.78.54 1.64.9.87.36 1.8.56.92.21 1.86.21 1.19 0 2.31-.37 1.12-.38 2.19-1.02zM8.1 13.22q0 .97.31 1.88.32.9.87 1.64.56.75 1.3 1.31.75.57 1.6.88.42-1.97 1.5-3.63 1.1-1.65 2.67-2.86 1.58-1.2 3.47-1.88 1.9-.69 3.93-.69.46 0 .79.03.34.02.56.06-.3-1.35-.93-2.49-.64-1.14-1.54-2.04-.9-.91-2.03-1.53-1.12-.62-2.38-.93-1.26-.31-2.58-.31-1.58 0-3.07.45-1.5.45-2.82 1.27-1.32.81-2.43 1.94-1.1 1.13-1.93 2.5-.82 1.37-1.28 2.9-.47 1.54-.47 3.17 0 .34.02.56.01.21.01.27z"/></svg>
          <span>Microsoft Edge</span>
        </button>
        <button class="browser-tab" onclick="showBrowser('chrome')">
          <svg viewBox="0 0 24 24"><path fill="currentColor" d="M12 20a8 8 0 0 1-8-8 8 8 0 0 1 8-8 8 8 0 0 1 8 8 8 8 0 0 1-8 8m0-18A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10A10 10 0 0 0 12 2m0 5a5 5 0 0 0-5 5 5 5 0 0 0 5 5 5 5 0 0 0 5-5 5 5 0 0 0-5-5z"/></svg>
          <span>Google Chrome</span>
        </button>
      </div>

      <div id="edge" class="browser-content active">
        <ol class="steps">
          <li>
            <strong>Favoritenleiste einblenden</strong><br>
            Dr√ºcke <code>Strg</code> + <code>Umschalt</code> + <code>B</code><br>
            <span style="color:#666;font-size:14px">(oder: Men√º ‚ãØ ‚Üí Favoriten ‚Üí Favoritenleiste anzeigen)</span>
          </li>
          <li>
            <strong>Button in die Leiste ziehen</strong><br>
            Klicke auf den gr√ºnen Button unten, <strong>halte die Maustaste gedr√ºckt</strong> und ziehe ihn in deine Favoritenleiste.
            <div class="highlight">üí° Der Button muss in der Leiste landen, nicht im Favoriten-Men√º!</div>
          </li>
          <li>
            <strong>Fertig!</strong><br>
            √ñffne eine ProWorX-Patientenseite und klicke auf dein neues Lesezeichen.
          </li>
        </ol>
      </div>

      <div id="chrome" class="browser-content">
        <ol class="steps">
          <li>
            <strong>Lesezeichenleiste einblenden</strong><br>
            Dr√ºcke <code>Strg</code> + <code>Umschalt</code> + <code>B</code><br>
            <span style="color:#666;font-size:14px">(oder: Men√º ‚ãÆ ‚Üí Lesezeichen ‚Üí Lesezeichenleiste anzeigen)</span>
          </li>
          <li>
            <strong>Button in die Leiste ziehen</strong><br>
            Klicke auf den gr√ºnen Button unten, <strong>halte die Maustaste gedr√ºckt</strong> und ziehe ihn in deine Lesezeichenleiste.
            <div class="highlight">üí° Der Button muss in der Leiste landen, nicht im Lesezeichen-Men√º!</div>
          </li>
          <li>
            <strong>Fertig!</strong><br>
            √ñffne eine ProWorX-Patientenseite und klicke auf dein neues Lesezeichen.
          </li>
        </ol>
      </div>

      <div class="bookmarklet-container">
        <a class="bookmarklet" href="{{BOOKMARKLET_URL}}" title="Ziehe mich in deine Lesezeichenleiste!">üìã RIS Meldung</a>
        <p class="drag-hint">‚¨ÜÔ∏è Diesen Button mit der Maus in die Lesezeichenleiste ziehen</p>
      </div>

      <div class="alternative">
        <h3>Alternative: Manuell hinzuf√ºgen</h3>
        <p style="margin-bottom:12px;color:#666;font-size:14px">Falls das Ziehen nicht funktioniert:</p>
        <ol class="steps" style="font-size:14px">
          <li>Rechtsklick auf die Lesezeichenleiste ‚Üí <strong>"Seite hinzuf√ºgen"</strong></li>
          <li>Name: <code>RIS Meldung</code></li>
          <li>URL: Den Code unten kopieren und einf√ºgen</li>
        </ol>
        <div class="code-box">
          <textarea id="code" readonly>{{BOOKMARKLET_URL}}</textarea>
          <button onclick="copyCode()">Kopieren</button>
        </div>
      </div>
    </div>

    <div class="card">
      <h2><span class="icon">üéØ</span> So funktioniert's</h2>
      <ol class="steps">
        <li>√ñffne eine <strong>ProWorX-Patientenseite</strong> mit Untersuchungsdetails</li>
        <li>Klicke auf <strong>"RIS Meldung"</strong> in deiner Lesezeichenleiste</li>
        <li>Die Meldung wird <strong>in die Zwischenablage kopiert</strong> - ein Hinweis erscheint</li>
        <li>Wechsle zu <strong>Outlook in Citrix</strong> und erstelle eine neue E-Mail</li>
        <li>Dr√ºcke <strong>Strg+V</strong> zum Einf√ºgen</li>
        <li>F√ºlle die Felder <strong>MTRA</strong>, <strong>Arzt</strong> und <strong>Problembeschreibung</strong> aus</li>
        <li>Klicke auf <strong>Senden</strong> - fertig!</li>
      </ol>
    </div>

    <div class="card help">
      <h3>‚ùì Probleme?</h3>
      <ul>
        <li><strong>Button l√§sst sich nicht ziehen?</strong> ‚Üí Nutze die manuelle Installation (siehe oben)</li>
        <li><strong>Lesezeichen tut nichts?</strong> ‚Üí Stelle sicher, dass du auf einer ProWorX-Seite bist</li>
        <li><strong>Kein Best√§tigungsfenster?</strong> ‚Üí Browser evtl. neu laden und nochmal versuchen</li>
        <li><strong>Daten fehlen?</strong> ‚Üí Die Seite muss die Untersuchungsdetails anzeigen</li>
      </ul>
    </div>
  </div>

  <div class="footer">
    RIS Einzelfallmeldung Bookmarklet v1.0
  </div>

  <script>
    function showBrowser(id) {
      document.querySelectorAll('.browser-tab').forEach(t => t.classList.remove('active'));
      document.querySelectorAll('.browser-content').forEach(c => c.classList.remove('active'));
      document.querySelector(`[onclick="showBrowser('${id}')"]`).classList.add('active');
      document.getElementById(id).classList.add('active');
    }
    function copyCode() {
      const textarea = document.getElementById('code');
      textarea.select();
      navigator.clipboard.writeText(textarea.value).then(() => {
        const btn = document.querySelector('.code-box button');
        btn.textContent = '‚úì Kopiert!';
        setTimeout(() => btn.textContent = 'Kopieren', 2000);
      });
    }
  </script>
</body>
</html>
